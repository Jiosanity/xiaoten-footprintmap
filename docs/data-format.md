# æ•°æ®æ ¼å¼

xiaoten-footprintmap ä½¿ç”¨ JSON æ ¼å¼å­˜å‚¨è¶³è¿¹æ•°æ®ã€‚æ•°æ®æ–‡ä»¶é»˜è®¤è·¯å¾„ä¸º `static/data/footprints.json`ã€‚

## åŸºæœ¬ç»“æ„

```json
{
  "locations": [
    {
      "name": "åœ°ç‚¹åç§°",
      "coordinates": "ç»åº¦,çº¬åº¦",
      "description": "å¯é€‰çš„æè¿°æ–‡å­—",
      "date": "YYYY-MM-DD",
      "url": "https://example.com",
      "urlLabel": "é“¾æ¥æ–‡å­—",
      "photos": ["/images/photo1.jpg"],
      "categories": ["åˆ†ç±»1", "åˆ†ç±»2"],
      "markerColor": "sunset"
    }
  ]
}
```

## å®Œæ•´å­—æ®µè¯´æ˜

### æ ¹å¯¹è±¡

| å­—æ®µ | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|-----|------|------|------|
| `locations` | Array | âœ… | è¶³è¿¹æ•°æ®æ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰åœ°ç‚¹ä¿¡æ¯ |

### locations æ•°ç»„å…ƒç´ 

æ¯ä¸ªåœ°ç‚¹å¯¹è±¡æ”¯æŒä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µ | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|------|------|------|
| `name` | String | âœ… | åœ°ç‚¹åç§°ï¼Œæ˜¾ç¤ºåœ¨æ ‡è®°å’Œå¼¹çª—æ ‡é¢˜ | `"åŒ—äº¬"` |
| `coordinates` | String | âœ… | ç»çº¬åº¦åæ ‡ï¼Œæ ¼å¼ï¼š`"ç»åº¦,çº¬åº¦"` | `"116.4074,39.9042"` |
| `description` | String | âŒ | åœ°ç‚¹æè¿°ï¼Œæ”¯æŒçº¯æ–‡æœ¬ | `"ä¸­å›½çš„é¦–éƒ½ï¼Œå†å²æ‚ ä¹…"` |
| `date` | String | âŒ | è®¿é—®æ—¥æœŸï¼Œæ ¼å¼ï¼š`YYYY-MM-DD` | `"2024-05-01"` |
| `url` | String | âŒ | ç›¸å…³é“¾æ¥ï¼Œé€šå¸¸æŒ‡å‘æ¸¸è®°æˆ–æ–‡ç«  | `"https://example.com/beijing"` |
| `urlLabel` | String | âŒ | é“¾æ¥æŒ‰é’®çš„æ–‡å­—ï¼ˆéœ€é…åˆ `url` ä½¿ç”¨ï¼‰ | `"é˜…è¯»æ¸¸è®°"` |
| `photos` | Array | âŒ | ç…§ç‰‡è·¯å¾„æ•°ç»„ï¼Œæ”¯æŒå¤šå¼ ç…§ç‰‡ | `["/images/beijing-1.jpg", "/images/beijing-2.jpg"]` |
| `categories` | Array | âŒ | åˆ†ç±»æ ‡ç­¾æ•°ç»„ï¼Œç”¨äºç­›é€‰ | `["2024", "æ—…è¡Œ", "åŸå¸‚"]` |
| `markerColor` | String | âŒ | æ ‡è®°é¢œè‰²ï¼Œæ”¯æŒé¢„è®¾åç§°æˆ–è‡ªå®šä¹‰é¢œè‰² | `"sunset"` æˆ– `"#ff6b6b"` |

## å­—æ®µè¯¦ç»†è¯´æ˜

### 1. nameï¼ˆåœ°ç‚¹åç§°ï¼‰

**å¿…éœ€å­—æ®µ**ï¼Œç”¨äºï¼š
- æ ‡è®°ä¸Šçš„ç¼–å·æ ‡ç­¾ï¼ˆæ‚¬åœæ—¶æ˜¾ç¤ºåç§°ï¼‰
- å¼¹çª—æ ‡é¢˜
- é›†ç¾¤æ ‡è®°çš„æç¤ºæ–‡å­—

```json
"name": "æ­å·è¥¿æ¹–"
```

### 2. coordinatesï¼ˆåæ ‡ï¼‰

**å¿…éœ€å­—æ®µ**ï¼Œæ ¼å¼ä¸º `"ç»åº¦,çº¬åº¦"`ï¼ˆé€—å·åˆ†éš”ï¼Œæ— ç©ºæ ¼ï¼‰ã€‚

> ğŸ’¡ **å¦‚ä½•è·å–åæ ‡**ï¼š
> 1. è®¿é—® [é«˜å¾·åœ°å›¾åæ ‡æ‹¾å–å™¨](https://lbs.amap.com/tools/picker)
> 2. æœç´¢åœ°ç‚¹æˆ–åœ¨åœ°å›¾ä¸Šç‚¹å‡»
> 3. å¤åˆ¶é¡µé¢æ˜¾ç¤ºçš„ç»çº¬åº¦

```json
"coordinates": "120.1551,30.2741"
```

âš ï¸ **æ³¨æ„é¡ºåº**ï¼šå¿…é¡»æ˜¯ `ç»åº¦,çº¬åº¦`ï¼Œè€Œä¸æ˜¯ `çº¬åº¦,ç»åº¦`ã€‚

### 3. descriptionï¼ˆæè¿°ï¼‰

å¯é€‰å­—æ®µï¼Œæ˜¾ç¤ºåœ¨å¼¹çª—ä¸­çš„åœ°ç‚¹ç®€ä»‹ã€‚æ”¯æŒçº¯æ–‡æœ¬ã€‚

```json
"description": "è¥¿æ¹–æ˜¯æ­å·çš„æ ‡å¿—æ€§æ™¯ç‚¹ï¼Œè¢«åˆ—ä¸ºä¸–ç•Œæ–‡åŒ–é—äº§"
```

å¦‚éœ€å¤šè¡Œæ–‡æœ¬ï¼Œå¯ä»¥ä½¿ç”¨ `\n`ï¼š

```json
"description": "ç¬¬ä¸€è¡Œæè¿°\nç¬¬äºŒè¡Œæè¿°"
```

### 4. dateï¼ˆæ—¥æœŸï¼‰

å¯é€‰å­—æ®µï¼Œè®°å½•è®¿é—®æ—¥æœŸï¼Œæ ¼å¼ï¼š`YYYY-MM-DD`ã€‚

```json
"date": "2024-05-01"
```

æ˜¾ç¤ºæ•ˆæœï¼š`ğŸ“… 2024-05-01`

### 5. url å’Œ urlLabelï¼ˆé“¾æ¥ï¼‰

å¯é€‰å­—æ®µï¼Œæ·»åŠ å¤–éƒ¨é“¾æ¥ï¼ˆå¦‚æ¸¸è®°æ–‡ç« ï¼‰ã€‚

```json
"url": "/posts/hangzhou-travel/",
"urlLabel": "æŸ¥çœ‹æ¸¸è®°"
```

- `url`ï¼šé“¾æ¥åœ°å€ï¼Œæ”¯æŒç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„
- `urlLabel`ï¼šæŒ‰é’®æ–‡å­—ï¼Œé»˜è®¤ä¸º `"æŸ¥çœ‹è¯¦æƒ…"`

å¦‚æœåªæä¾› `url` è€Œä¸æä¾› `urlLabel`ï¼ŒæŒ‰é’®æ–‡å­—å°†æ˜¾ç¤ºä¸º `"æŸ¥çœ‹è¯¦æƒ…"`ã€‚

### 6. photosï¼ˆç…§ç‰‡ï¼‰

å¯é€‰å­—æ®µï¼Œç…§ç‰‡è·¯å¾„æ•°ç»„ï¼Œæ”¯æŒå¤šå¼ ç…§ç‰‡ã€‚

```json
"photos": [
  "/images/hangzhou/westlake-1.jpg",
  "/images/hangzhou/westlake-2.jpg",
  "/images/hangzhou/westlake-3.jpg"
]
```

**è·¯å¾„è§„åˆ™**ï¼š
- ç›¸å¯¹äº `static/` ç›®å½•ï¼Œè·¯å¾„ä»¥ `/` å¼€å¤´
- ä¾‹å¦‚ï¼š`static/images/photo.jpg` â†’ `"/images/photo.jpg"`
- æ”¯æŒç»å¯¹ URLï¼š`"https://example.com/image.jpg"`

**ç…§ç‰‡åŠŸèƒ½**ï¼š
- è‡ªåŠ¨è½®æ’­ï¼ˆ3 ç§’é—´éš”ï¼‰
- ç‚¹å‡»ç…§ç‰‡æ”¾å¤§æŸ¥çœ‹ï¼ˆç¯ç®±æ•ˆæœï¼‰
- å·¦å³ç®­å¤´åˆ‡æ¢ç…§ç‰‡
- ESC é”®æˆ–ç‚¹å‡»èƒŒæ™¯å…³é—­ç¯ç®±

### 7. categoriesï¼ˆåˆ†ç±»ï¼‰

å¯é€‰å­—æ®µ,æ ‡ç­¾æ•°ç»„ï¼Œç”¨äºåˆ†ç±»ç­›é€‰ã€‚

```json
"categories": ["2024", "æ—…è¡Œ", "åŸå¸‚", "ä¸–ç•Œé—äº§"]
```

**åˆ†ç±»åŠŸèƒ½**ï¼š
- è‡ªåŠ¨æå–æ‰€æœ‰ä½ç½®çš„åˆ†ç±»æ ‡ç­¾
- åœ¨åœ°å›¾ä¸Šæ–¹æ˜¾ç¤ºç­›é€‰æŒ‰é’®
- ç‚¹å‡»åˆ†ç±»æŒ‰é’®ä»…æ˜¾ç¤ºè¯¥åˆ†ç±»çš„æ ‡è®°
- æ”¯æŒå¤šä¸ªåˆ†ç±»ï¼ˆOR é€»è¾‘ï¼‰

**å»ºè®®åˆ†ç±»æ–¹å¼**ï¼š
- æŒ‰å¹´ä»½ï¼š`"2024"`ã€`"2023"`
- æŒ‰ç±»å‹ï¼š`"æ—…è¡Œ"`ã€`"å·¥ä½œ"`ã€`"ä¼šè®®"`
- æŒ‰åœ°åŒºï¼š`"åä¸œ"`ã€`"ååŒ—"`
- æŒ‰ä¸»é¢˜ï¼š`"ç¾é£Ÿ"`ã€`"è‡ªç„¶"`ã€`"å†å²"`

### 8. markerColorï¼ˆæ ‡è®°é¢œè‰²ï¼‰

å¯é€‰å­—æ®µï¼Œè®¾ç½®æ ‡è®°çš„æ¸å˜è‰²ã€‚

**é¢„è®¾é¢œè‰²**ï¼ˆæ¨èä½¿ç”¨ï¼‰ï¼š

```json
"markerColor": "sunset"   // æ—¥è½ï¼ˆæ©™çº¢æ¸å˜ï¼‰
"markerColor": "ocean"    // æµ·æ´‹ï¼ˆé’è“æ¸å˜ï¼‰
"markerColor": "violet"   // ç´«ç½—å…°ï¼ˆç´«ç²‰æ¸å˜ï¼‰
"markerColor": "forest"   // æ£®æ—ï¼ˆé’ç»¿æ¸å˜ï¼‰
"markerColor": "amber"    // ç¥ç€ï¼ˆé‡‘é»„æ¸å˜ï¼‰
"markerColor": "citrus"   // æŸ‘æ©˜ï¼ˆé»„ç»¿æ¸å˜ï¼‰
```

**è‡ªå®šä¹‰é¢œè‰²**ï¼š

```json
"markerColor": "#ff6b6b"              // åå…­è¿›åˆ¶é¢œè‰²
"markerColor": "rgb(255, 107, 107)"   // RGB é¢œè‰²
```

> ğŸ’¡ **é¢œè‰²å»ºè®®**ï¼š
> - ä½¿ç”¨é¢„è®¾é¢œè‰²ä»¥ä¿æŒè§†è§‰ä¸€è‡´æ€§
> - ä¸åŒç±»åˆ«ä½¿ç”¨ä¸åŒé¢œè‰²ä¾¿äºåŒºåˆ†
> - é¿å…ä½¿ç”¨è¿‡äºç›¸ä¼¼çš„é¢œè‰²

## å®Œæ•´ç¤ºä¾‹

```json
{
  "locations": [
    {
      "name": "åŒ—äº¬",
      "coordinates": "116.4074,39.9042",
      "description": "ä¸­å›½çš„é¦–éƒ½ï¼Œæ‹¥æœ‰æ•…å®«ã€é•¿åŸç­‰ä¸–ç•Œé—»åçš„å†å²æ–‡åŒ–é—äº§ã€‚",
      "date": "2024-05-01",
      "url": "/posts/beijing-travel/",
      "urlLabel": "é˜…è¯»åŒ—äº¬æ¸¸è®°",
      "photos": [
        "/images/beijing/forbidden-city.jpg",
        "/images/beijing/great-wall.jpg",
        "/images/beijing/summer-palace.jpg"
      ],
      "categories": ["2024", "æ—…è¡Œ", "åŸå¸‚", "å†å²"],
      "markerColor": "sunset"
    },
    {
      "name": "æ­å·",
      "coordinates": "120.1551,30.2741",
      "description": "äººé—´å¤©å ‚ï¼Œä»¥è¥¿æ¹–ç¾æ™¯å’Œé¾™äº•èŒ¶é—»åã€‚",
      "date": "2024-06-15",
      "url": "/posts/hangzhou-travel/",
      "urlLabel": "æŸ¥çœ‹æ¸¸è®°",
      "photos": [
        "/images/hangzhou/westlake.jpg"
      ],
      "categories": ["2024", "æ—…è¡Œ", "è‡ªç„¶"],
      "markerColor": "forest"
    },
    {
      "name": "æ·±åœ³",
      "coordinates": "114.0579,22.5431",
      "description": "ä¸­å›½çš„ç§‘æŠ€ä¹‹éƒ½ï¼Œç°ä»£åŒ–çš„å›½é™…å¤§éƒ½å¸‚ã€‚",
      "date": "2023-09-20",
      "categories": ["2023", "å·¥ä½œ", "åŸå¸‚"],
      "markerColor": "ocean"
    },
    {
      "name": "æˆéƒ½",
      "coordinates": "104.0665,30.5723",
      "description": "ç¾é£Ÿä¹‹éƒ½ï¼Œå¤§ç†ŠçŒ«çš„æ•…ä¹¡ã€‚",
      "categories": ["2023", "æ—…è¡Œ", "ç¾é£Ÿ"],
      "markerColor": "amber"
    }
  ]
}
```

## æ•°æ®éªŒè¯

### JSON æ ¼å¼éªŒè¯

ä½¿ç”¨åœ¨çº¿å·¥å…·éªŒè¯ JSON æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼š
- [JSONLint](https://jsonlint.com/)
- [JSON Formatter](https://jsonformatter.curiousconcept.com/)

### å¸¸è§é”™è¯¯

âŒ **ç¼ºå°‘é€—å·**

```json
{
  "locations": [
    {
      "name": "åŒ—äº¬"
      "coordinates": "116.4074,39.9042"  // â† ç¼ºå°‘é€—å·
    }
  ]
}
```

âœ… **æ­£ç¡®æ ¼å¼**

```json
{
  "locations": [
    {
      "name": "åŒ—äº¬",
      "coordinates": "116.4074,39.9042"
    }
  ]
}
```

âŒ **å¤šä½™çš„é€—å·**

```json
{
  "locations": [
    {
      "name": "åŒ—äº¬",
      "coordinates": "116.4074,39.9042",  // â† æœ€åä¸€ä¸ªå­—æ®µåä¸åº”æœ‰é€—å·
    },
  ]
}
```

âœ… **æ­£ç¡®æ ¼å¼**

```json
{
  "locations": [
    {
      "name": "åŒ—äº¬",
      "coordinates": "116.4074,39.9042"
    }
  ]
}
```

âŒ **åæ ‡é¡ºåºé”™è¯¯**

```json
"coordinates": "39.9042,116.4074"  // â† é”™è¯¯ï¼šçº¬åº¦,ç»åº¦
```

âœ… **æ­£ç¡®é¡ºåº**

```json
"coordinates": "116.4074,39.9042"  // âœ“ æ­£ç¡®ï¼šç»åº¦,çº¬åº¦
```

## æœ€ä½³å®è·µ

### 1. æ•°æ®ç»„ç»‡

å»ºè®®æŒ‰æ—¶é—´å€’åºæ’åˆ—ï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰ï¼š

```json
{
  "locations": [
    {"name": "2024å¹´å»çš„åœ°æ–¹", "date": "2024-06-01", ...},
    {"name": "2024å¹´å»çš„åœ°æ–¹", "date": "2024-05-01", ...},
    {"name": "2023å¹´å»çš„åœ°æ–¹", "date": "2023-12-01", ...}
  ]
}
```

### 2. åˆ†ç±»å‘½å

ä½¿ç”¨ä¸€è‡´çš„å‘½åè§„èŒƒï¼š

```json
"categories": ["2024", "æ—…è¡Œ", "åŸå¸‚"]  // âœ“ æ¨è
"categories": ["24å¹´", "Travel", "åŸå¸‚"]  // âœ— ä¸æ¨èï¼ˆæ··ä¹±ï¼‰
```

### 3. ç…§ç‰‡ä¼˜åŒ–

- å‹ç¼©å›¾ç‰‡ä»¥æå‡åŠ è½½é€Ÿåº¦ï¼ˆæ¨è < 500KBï¼‰
- ä½¿ç”¨ç»Ÿä¸€çš„å®½é«˜æ¯”ï¼ˆå¦‚ 16:9 æˆ– 4:3ï¼‰
- å»ºè®®å°ºå¯¸ï¼š800px - 1200px å®½åº¦

### 4. æè¿°é•¿åº¦

ä¿æŒæè¿°ç®€æ´ï¼ˆå»ºè®® 50-150 å­—ï¼‰ï¼š

```json
"description": "ç®€çŸ­çš„ä¸€å¥è¯æè¿°"  // âœ“ æ¨è
"description": "å¾ˆé•¿å¾ˆé•¿çš„æè¿°...ï¼ˆ500å­—ï¼‰"  // âœ— ä¸æ¨è
```

### 5. æ‰¹é‡æ•°æ®

å¦‚æœæœ‰å¤§é‡æ•°æ®ï¼ˆ>100ä¸ªåœ°ç‚¹ï¼‰ï¼Œå¯ä»¥æŒ‰å¹´ä»½æˆ–åœ°åŒºåˆ†æ–‡ä»¶ï¼š

```
static/data/
â”œâ”€â”€ footprints-2024.json
â”œâ”€â”€ footprints-2023.json
â””â”€â”€ footprints-2022.json
```

åœ¨ä¸åŒé¡µé¢ä½¿ç”¨ä¸åŒæ•°æ®ï¼š

```markdown
{{</* footprintmap data="/data/footprints-2024.json" */>}}
```

## æ•°æ®è¿ç§»

### ä»å…¶ä»–æ ¼å¼è½¬æ¢

å¦‚æœä½ æœ‰ CSV æˆ–å…¶ä»–æ ¼å¼çš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ Python è„šæœ¬è½¬æ¢ï¼š

```python
import csv
import json

with open('footprints.csv', 'r', encoding='utf-8') as f:
    reader = csv.DictReader(f)
    locations = []
    for row in reader:
        locations.append({
            "name": row['åç§°'],
            "coordinates": f"{row['ç»åº¦']},{row['çº¬åº¦']}",
            "description": row.get('æè¿°', ''),
            "date": row.get('æ—¥æœŸ', ''),
            "categories": row.get('åˆ†ç±»', '').split(','),
            "markerColor": row.get('é¢œè‰²', 'sunset')
        })

with open('footprints.json', 'w', encoding='utf-8') as f:
    json.dump({"locations": locations}, f, ensure_ascii=False, indent=2)
```

---

**ç›¸å…³æ–‡æ¡£ï¼š**
- ğŸ“– [é…ç½®è¯´æ˜](configuration.md)
- ğŸ¨ [è‡ªå®šä¹‰æ ·å¼](customization.md)
- ğŸ’¡ [å®Œæ•´ç¤ºä¾‹](../examples/)
